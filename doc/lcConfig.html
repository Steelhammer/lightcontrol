<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>lcConfig.pl</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#lcconfig_pl">lcConfig.pl</a></li>
	<ul>

		<li><a href="#getconfiguration__"><code>GetConfiguration()</code></a></li>
		<li><a href="#getdbconnection__"><code>GetDBConnection()</code></a></li>
		<li><a href="#generatenewreceiverparameters__"><code>GenerateNewReceiverParameters()</code></a></li>
	</ul>

</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<pre>
   _ _       _     _                  _             _   
  | (_) __ _| |__ | |_ ___ ___  _ __ | |_ _ __ ___ | |  
  | | |/ _` | '_ \| __/ __/ _ \| '_ \| __| '__/ _ \| |  
  | | | (_| | | | | || (_| (_) | | | | |_| | | (_) | |  
  |_|_|\__, |_| |_|\__\___\___/|_| |_|\__|_|  \___/|_|  
       |___/</pre>
<pre>
  lightcontrol - Light control using the Tellstick
  Copyright (C) 2012  Fredrik Stalhammar</pre>
<pre>
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.</pre>
<pre>
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.</pre>
<pre>
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see &lt;<a href="http://www.gnu.org/licenses/&gt">http://www.gnu.org/licenses/&gt</a>;.
    
  Inspired by the works of <a href="http://www.telldus.se/">http://www.telldus.se/</a></pre>
<pre>
  https://github.com/Steelhammer/lightcontrol</pre>
<p>
</p>
<hr />
<h1><a name="lcconfig_pl">lcConfig.pl</a></h1>
<p>Functions to handle the configuration</p>
<p>
</p>
<h2><a name="getconfiguration__"><code>GetConfiguration()</code></a></h2>
<ul>
<li><strong><a name="parameters_none" class="item"><em>parameters: none</em></a></strong>

</li>
<li><strong><a name="returns_hash_of_config_values" class="item"><em>returns: hash of config values</em></a></strong>

</li>
</ul>
<p><em>Synopsis</em></p>
<pre>
 my %userPrefs = GetConfiguration();
 my $localValue = $userPrefs{'LOGFILE'}</pre>
<p>Reads the config file (lightcontrol.conf) to create a hash of the configuration values found in the file.</p>
<p>
</p>
<h2><a name="getdbconnection__"><code>GetDBConnection()</code></a></h2>
<ul>
<li><strong><a name="parameters_none2" class="item"><em>parameters: none</em></a></strong>

</li>
<li><strong><a name="returns_dbi_database_handle" class="item"><em>returns: DBI database handle</em></a></strong>

</li>
</ul>
<p>Creates the database handle. 
The handle should be released in the calling function. 
The database file is created if it does not exists. 
The required tables are created if they do not exist.</p>
<p>
</p>
<h2><a name="generatenewreceiverparameters__"><code>GenerateNewReceiverParameters()</code></a></h2>
<ul>
<li><strong><a name="parameters_none3" class="item"><em>parameters: none</em></a></strong>

</li>
<li><strong><a name="array" class="item"><em>returns: integer array(houseID, unitID)</em></a></strong>

</li>
</ul>
<p><em>Synopsis</em></p>
<pre>
 my ($house, $unit) = GenerateNewReceiverParameters();

</pre>
<p>The next house ID to use is stored in the config file (lightcontrol.conf). 
The unit ID is generated as a random number 0-15. 
The house ID is updated in config file.</p>

</body>

</html>
